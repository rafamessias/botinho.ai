<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey Widget Demo</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .demo-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .demo-section {
            background: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .demo-item {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 1rem;
        }

        .demo-item h3 {
            margin-top: 0;
            color: #374151;
        }

        .survey-container {
            display: flex;
            justify-content: center;
            margin: 1rem 0;
        }

        .code-block {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 4px;
            padding: 1rem;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.875rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.25rem;
        }

        .btn:hover {
            background: #2563eb;
        }

        .btn-secondary {
            background: #6b7280;
        }

        .btn-secondary:hover {
            background: #4b5563;
        }
    </style>
</head>

<body>
    <div class="demo-container">
        <div class="demo-header">
            <h1>Survey Widget Demo</h1>
            <p>Vanilla JavaScript survey widget for third-party websites</p>
        </div>

        <div class="demo-section">
            <h2>Basic Usage</h2>
            <p>Here's how to use the survey widget in your website:</p>

            <div class="code-block">
                &lt;!-- Include the survey widget script --&gt;
                &lt;script src="survey-widget-vanilla.js"&gt;&lt;/script&gt;

                &lt;!-- Create a container for the survey --&gt;
                &lt;div id="survey-container"&gt;&lt;/div&gt;

                &lt;script&gt;
                // Initialize the survey widget
                const surveyWidget = window.initSurveyWidget({
                surveyData: {
                id: 'demo-survey',
                name: 'Customer Satisfaction Survey',
                description: 'Help us improve our service',
                status: 'published',
                questions: [
                {
                id: 'q1',
                title: 'How satisfied are you with our service?',
                description: 'Please rate your overall experience',
                format: 'STAR_RATING',
                required: true,
                order: 1,
                options: []
                },
                {
                id: 'q2',
                title: 'What is your preferred contact method?',
                format: 'SINGLE_CHOICE',
                required: true,
                order: 2,
                options: [
                { id: 'email', text: 'Email', order: 1, isOther: false },
                { id: 'phone', text: 'Phone', order: 2, isOther: false },
                { id: 'other', text: 'Other', order: 3, isOther: true }
                ]
                },
                {
                id: 'q3',
                title: 'What features would you like to see?',
                format: 'MULTIPLE_CHOICE',
                required: false,
                order: 3,
                options: [
                { id: 'feature1', text: 'Mobile App', order: 1, isOther: false },
                { id: 'feature2', text: 'Better UI', order: 2, isOther: false },
                { id: 'feature3', text: 'More Integrations', order: 3, isOther: false }
                ]
                },
                {
                id: 'q4',
                title: 'Any additional comments?',
                format: 'LONG_TEXT',
                required: false,
                order: 4,
                options: []
                }
                ],
                style: {
                backgroundColor: '#ffffff',
                textColor: '#1f2937',
                buttonBackgroundColor: '#3b82f6',
                buttonTextColor: '#ffffff',
                margin: '16px 0px',
                padding: '24px',
                border: '1px solid #e5e7eb',
                borderRadius: '8px',
                titleFontSize: '20px',
                bodyFontSize: '16px',
                fontFamily: 'Inter, sans-serif'
                }
                },
                onComplete: (responses) => {
                console.log('Survey completed!', responses);
                alert('Survey completed! Check console for responses.');
                },
                onError: (error) => {
                console.error('Survey error:', error);
                alert('Survey error: ' + error);
                }
                });

                // Mount the survey to a container
                surveyWidget.mount('survey-container');
                &lt;/script&gt;
            </div>
        </div>

        <div class="demo-section">
            <h2>Live Demo</h2>
            <p>Here's the survey widget in action:</p>

            <div class="survey-container">
                <div id="survey-container"></div>
            </div>

            <div style="text-align: center; margin-top: 1rem;">
                <button class="btn" onclick="resetSurvey()">Reset Survey</button>
                <button class="btn btn-secondary" onclick="showResponses()">Show Responses</button>
            </div>
        </div>

        <div class="demo-section">
            <h2>Different Styles</h2>
            <p>Customize the appearance with different styles:</p>

            <div class="demo-grid">
                <div class="demo-item">
                    <h3>Dark Theme</h3>
                    <div id="dark-survey"></div>
                </div>

                <div class="demo-item">
                    <h3>Minimal Theme</h3>
                    <div id="minimal-survey"></div>
                </div>

                <div class="demo-item">
                    <h3>Colorful Theme</h3>
                    <div id="colorful-survey"></div>
                </div>
            </div>
        </div>

        <div class="demo-section">
            <h2>Data Attributes Usage</h2>
            <p>You can also initialize surveys using data attributes:</p>

            <div class="code-block">
                &lt;div data-survey-widget
                data-survey-id="my-survey"
                data-test-mode="true"&gt;
                &lt;/div&gt;
            </div>
        </div>
    </div>

    <script src="survey-widget-vanilla.js"></script>
    <script>
        // Sample survey data
        const sampleSurveyData = {
            id: 'demo-survey',
            name: 'Customer Satisfaction Survey',
            description: 'Help us improve our service',
            status: 'published',
            questions: [
                {
                    id: 'q1',
                    title: 'How satisfied are you with our service?',
                    description: 'Please rate your overall experience',
                    format: 'STAR_RATING',
                    required: true,
                    order: 1,
                    options: []
                },
                {
                    id: 'q2',
                    title: 'What is your preferred contact method?',
                    format: 'SINGLE_CHOICE',
                    required: true,
                    order: 2,
                    options: [
                        { id: 'email', text: 'Email', order: 1, isOther: false },
                        { id: 'phone', text: 'Phone', order: 2, isOther: false },
                        { id: 'other', text: 'Other', order: 3, isOther: true }
                    ]
                },
                {
                    id: 'q3',
                    title: 'What features would you like to see?',
                    format: 'MULTIPLE_CHOICE',
                    required: false,
                    order: 3,
                    options: [
                        { id: 'feature1', text: 'Mobile App', order: 1, isOther: false },
                        { id: 'feature2', text: 'Better UI', order: 2, isOther: false },
                        { id: 'feature3', text: 'More Integrations', order: 3, isOther: false }
                    ]
                },
                {
                    id: 'q4',
                    title: 'Any additional comments?',
                    format: 'LONG_TEXT',
                    required: false,
                    order: 4,
                    options: []
                }
            ]
        };

        // Initialize main survey
        let mainSurvey;

        function initMainSurvey() {
            mainSurvey = window.initSurveyWidget({
                surveyData: {
                    ...sampleSurveyData,
                    style: {
                        backgroundColor: '#ffffff',
                        textColor: '#1f2937',
                        buttonBackgroundColor: '#3b82f6',
                        buttonTextColor: '#ffffff',
                        margin: '16px 0px',
                        padding: '24px',
                        border: '1px solid #e5e7eb',
                        borderRadius: '8px',
                        titleFontSize: '20px',
                        bodyFontSize: '16px',
                        fontFamily: 'Inter, sans-serif'
                    }
                },
                onComplete: (responses) => {
                    console.log('Survey completed!', responses);
                    alert('Survey completed! Check console for responses.');
                },
                onError: (error) => {
                    console.error('Survey error:', error);
                    alert('Survey error: ' + error);
                }
            });

            mainSurvey.mount('survey-container');
        }

        // Initialize themed surveys
        function initThemedSurveys() {
            // Dark theme
            const darkSurvey = window.initSurveyWidget({
                surveyData: {
                    ...sampleSurveyData,
                    questions: sampleSurveyData.questions.slice(0, 2), // Show only first 2 questions
                    style: {
                        backgroundColor: '#1f2937',
                        textColor: '#f9fafb',
                        buttonBackgroundColor: '#3b82f6',
                        buttonTextColor: '#ffffff',
                        margin: '16px 0px',
                        padding: '20px',
                        border: '1px solid #374151',
                        borderRadius: '8px',
                        titleFontSize: '18px',
                        bodyFontSize: '14px',
                        fontFamily: 'Inter, sans-serif'
                    }
                },
                onComplete: (responses) => console.log('Dark survey completed:', responses),
                onError: (error) => console.error('Dark survey error:', error)
            });
            darkSurvey.mount('dark-survey');

            // Minimal theme
            const minimalSurvey = window.initSurveyWidget({
                surveyData: {
                    ...sampleSurveyData,
                    questions: sampleSurveyData.questions.slice(0, 2),
                    style: {
                        backgroundColor: 'transparent',
                        textColor: '#374151',
                        buttonBackgroundColor: '#000000',
                        buttonTextColor: '#ffffff',
                        margin: '0px',
                        padding: '0px',
                        border: 'none',
                        borderRadius: '0px',
                        titleFontSize: '16px',
                        bodyFontSize: '14px',
                        fontFamily: 'Arial, sans-serif'
                    }
                },
                onComplete: (responses) => console.log('Minimal survey completed:', responses),
                onError: (error) => console.error('Minimal survey error:', error)
            });
            minimalSurvey.mount('minimal-survey');

            // Colorful theme
            const colorfulSurvey = window.initSurveyWidget({
                surveyData: {
                    ...sampleSurveyData,
                    questions: sampleSurveyData.questions.slice(0, 2),
                    style: {
                        backgroundColor: '#fef3c7',
                        textColor: '#92400e',
                        buttonBackgroundColor: '#f59e0b',
                        buttonTextColor: '#ffffff',
                        margin: '16px 0px',
                        padding: '24px',
                        border: '2px solid #f59e0b',
                        borderRadius: '12px',
                        titleFontSize: '20px',
                        bodyFontSize: '16px',
                        fontFamily: 'Inter, sans-serif'
                    }
                },
                onComplete: (responses) => console.log('Colorful survey completed:', responses),
                onError: (error) => console.error('Colorful survey error:', error)
            });
            colorfulSurvey.mount('colorful-survey');
        }

        // Utility functions
        function resetSurvey() {
            if (mainSurvey) {
                mainSurvey.currentQuestionIndex = 0;
                mainSurvey.responses = [];
                mainSurvey.otherText = {};
                mainSurvey.render();
            }
        }

        function showResponses() {
            if (mainSurvey) {
                const responses = mainSurvey.getResponses();
                console.log('Current responses:', responses);
                alert('Current responses logged to console. Check developer tools.');
            }
        }

        // Initialize everything when page loads
        document.addEventListener('DOMContentLoaded', function () {
            initMainSurvey();
            initThemedSurveys();
        });
    </script>
</body>

</html>