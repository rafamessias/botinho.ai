class o{constructor(t={}){this.surveyId=t.surveyId,this.surveyData=t.surveyData,this.testMode=t.testMode||!1,this.onComplete=t.onComplete||(()=>{}),this.onError=t.onError||(()=>{}),this.onClose=t.onClose||(()=>{}),this.container=null,this.survey=null,this.i=0,this.r=[],this.ot={},this.l=!0,this.s=!1,this.c=!1,this.e=null,this.init()}async init(){try{this.surveyData?(this.survey=this.surveyData,this.l=!1,this.container&&this.render()):this.surveyId?await this.loadSurvey():this.onError("Either surveyId or surveyData must be provided")}catch(t){this.onError(t.message||"Failed to initialize survey")}}async loadSurvey(){try{if(!this.surveyData)throw new Error("Survey loading not implemented in vanilla version");this.survey=this.surveyData,this.l=!1,this.container&&this.render()}catch(t){this.onError(t.message||"Failed to load survey")}}render(){this.container&&(this.l?this.renderLoading():this.c?this.renderCompleted():this.survey?"published"===this.survey.status||this.testMode?this.renderSurvey():this.renderError("This survey is not available"):this.renderError("Survey not found"))}renderLoading(){this.container&&(this.container.innerHTML='<div class="sw-loading"><div class="sw-spinner"></div></div>')}renderError(t){this.container&&(this.container.innerHTML='<div class="sw-error"><p class="sw-error-msg">'+t+"</p></div>")}renderCompleted(){if(!this.container)return;const t=this.survey?.style||this.getDefaultStyle(),e=this.widgetId?"window."+this.widgetId:"window.surveyWidget";this.container.innerHTML='<div class="sw" style="min-width:300px;min-height:300px;"><div class="sc" style="--sw-bg:'+("transparent"===t.backgroundColor?"transparent":t.backgroundColor)+";--sw-text:"+t.textColor+";--sw-btn-bg:"+t.buttonBackgroundColor+";--sw-btn-text:"+t.buttonTextColor+";--sw-font:"+t.fontFamily+";--sw-border:"+t.border+";--sw-radius:"+t.borderRadius+";--sw-margin:"+t.margin+";--sw-padding:"+t.padding+";--sw-title:"+t.titleFontSize+";--sw-body:"+t.bodyFontSize+";--sw-accent:"+(t.accentColor||"#3b82f6")+";--sw-error:"+(t.errorColor||"#ef4444")+";--sw-border-color:"+(t.borderColor||"#d1d5db")+';background-color:var(--sw-bg);font-family:var(--sw-font);border:var(--sw-border);border-radius:var(--sw-radius);margin:var(--sw-margin);padding:var(--sw-padding);"><div class="x" onclick="'+e+'.handleClose()"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg></div><div class="cc"><div class="ca"><div class="sc-circle"><div class="sc-check"><div class="cs"></div><div class="ck"></div></div></div></div></div><div class="sf"><div class="sb"><div class="sb-text"><p>Powered by <a href="https://opineeo.com" target="_blank" style="color:var(--sw-text);"><strong>Opineeo</strong></a></p></div></div></div></div></div>',this.addCompletionStyles(),setTimeout(()=>this.handleClose(),8e3)}addCompletionStyles(){if(document.getElementById("sw-completion-styles"))return;const t=document.createElement("style");t.id="sw-completion-styles",t.textContent='.cc{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;min-height:250px;position:relative}.ca{margin-bottom:2rem;position:relative}.sc-circle{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#10b981,#059669);display:flex;align-items:center;justify-content:center;position:relative;animation:scaleIn .6s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 8px 25px rgba(16,185,129,.3)}.sc-circle::before{content:"";position:absolute;width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#10b981,#059669);opacity:.3;animation:pulse 2s infinite}.sc-check{position:relative;width:24px;height:24px;transform:rotate(45deg);z-index:2}.cs{position:absolute;width:5px;height:25px;background-color:white;left:15px;top:-3px;border-radius:2px;animation:checkmarkStem .4s ease-in-out .3s both}.ck{position:absolute;width:15px;height:5px;background-color:white;left:4px;top:17px;border-radius:2px;animation:checkmarkKick .4s ease-in-out .5s both}@keyframes scaleIn{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}@keyframes pulse{0%,100%{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes checkmarkStem{0%{height:0}100%{height:25px}}@keyframes checkmarkKick{0%{width:0}100%{width:15px}}@media(max-width:400px){.sc-circle{width:60px;height:60px}.sc-circle::before{width:80px;height:80px}.cs{width:2px;height:10px;left:7px;top:3px}.ck{width:6px;height:2px;left:4px;top:9px}}',document.head.appendChild(t)}renderSurvey(){if(!this.container)return;if(!this.survey?.questions||0===this.survey.questions.length)return void this.renderError("No questions available");const t=this.survey.questions[this.i];if(!t)return void this.renderError("Question not found");const e=this.i===this.survey.questions.length-1,i=0===this.i,s=this.survey.style||this.getDefaultStyle(),r=this.widgetId?"window."+this.widgetId:"window.surveyWidget";this.container.innerHTML='<div class="sw" style="min-width:300px;min-height:300px;"><div class="sc" style="--sw-bg:'+("transparent"===s.backgroundColor?"transparent":s.backgroundColor)+";--sw-text:"+s.textColor+";--sw-btn-bg:"+s.buttonBackgroundColor+";--sw-btn-text:"+s.buttonTextColor+";--sw-font:"+s.fontFamily+";--sw-border:"+s.border+";--sw-radius:"+s.borderRadius+";--sw-margin:"+s.margin+";--sw-padding:"+s.padding+";--sw-title:"+s.titleFontSize+";--sw-body:"+s.bodyFontSize+";--sw-accent:"+(s.accentColor||"#3b82f6")+";--sw-error:"+(s.errorColor||"#ef4444")+";--sw-border-color:"+(s.borderColor||"#d1d5db")+";--sw-outline-bg:"+(s.outlineButtonBg||"rgba(255,255,255,.8)")+";--sw-outline-text:"+(s.outlineButtonText||"#374151")+";--sw-outline-hover-bg:"+(s.outlineButtonHoverBg||"#f9fafb")+";--sw-outline-hover-border:"+(s.outlineButtonHoverBorder||"#9ca3af")+";--sw-input-border:"+(s.inputBorder||"#d1d5db")+";--sw-input-radius:"+(s.inputRadius||".375rem")+";--sw-input-bg:"+(s.inputBg||"transparent")+';background-color:var(--sw-bg);font-family:var(--sw-font);border:var(--sw-border);border-radius:var(--sw-radius);margin:var(--sw-margin);padding:var(--sw-padding);"><div class="x" onclick="'+r+'.handleClose()"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg></div><div class="sc-content"><div class="qtc">'+this.renderQuestion(t,s,r)+'</div></div><div class="sf"><div class="sn"><button class="btn btn-outline btn-prev" onclick="'+r+'.handlePrevious()" '+(i?"disabled":"")+'><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg></button><button class="btn btn-primary btn-next" onclick="'+r+'.handleNext()" '+(this.s?"disabled":"")+">"+(this.s?this.getSpinnerIcon():e?this.getSendIcon():this.getNextArrowIcon())+'</button></div><div class="sb"><div class="sb-text"><p>Powered by <a href="https://opineeo.com" target="_blank" style="color:var(--sw-text);"><strong>Opineeo</strong></a></p></div></div></div></div></div>',this.addStyles()}renderQuestion(t,e,i="window.surveyWidget"){if(!t)return"";const s=this.r.find(e=>e.questionId===t.id),r=t.required;return'<div class="qc'+(this.e===t.id?" qc-error":"")+'"><h2 class="qt">'+t.title+(r?' <span class="qr">*</span>':"")+"</h2>"+(t.description&&"STATEMENT"!==t.format?'<p class="qd">'+t.description+"</p>":"")+'<div class="opts">'+this.renderQuestionOptions(t,s,e,i)+"</div></div>"}renderQuestionOptions(t,e,i,s="window.surveyWidget"){switch(t.format){case"YES_NO":return this.renderYesNoOptions(t,e,s);case"SINGLE_CHOICE":return this.renderSingleChoiceOptions(t,e,s);case"MULTIPLE_CHOICE":return this.renderMultipleChoiceOptions(t,e,s);case"STAR_RATING":return this.renderStarRatingOptions(t,e,s);case"LONG_TEXT":return this.renderLongTextOptions(t,e,s);case"STATEMENT":return this.renderStatementOptions(t);default:return"<p>Unsupported question format</p>"}}renderYesNoOptions(t,e,i="window.surveyWidget"){const s=!0===e?.booleanValue?"true":"",r=!1===e?.booleanValue?"false":"";return'<div class="yno"><label class="rad"><input type="radio" name="q_'+t.id+'" value="true" '+(s?"checked":"")+' onchange="'+i+".handleResponseChange('"+t.id+'\',true,undefined,false)"><span class="rad-text">'+(t.yesLabel||"Yes")+'</span></label><label class="rad"><input type="radio" name="q_'+t.id+'" value="false" '+(r?"checked":"")+' onchange="'+i+".handleResponseChange('"+t.id+'\',false,undefined,false)"><span class="rad-text">'+(t.noLabel||"No")+"</span></label></div>"}renderSingleChoiceOptions(t,e,i="window.surveyWidget"){let s=t.options.filter(t=>!t.isOther).map(s=>{const r=e?.optionId===s.id;return'<label class="rad"><input type="radio" name="q_'+t.id+'" value="'+s.id+'" '+(r?"checked":"")+' onchange="'+i+".handleResponseChange('"+t.id+"','"+s.id+"','"+s.id+'\',false)"><span class="rad-text">'+s.text+"</span></label>"}).join("");const r=t.options.find(t=>t.isOther);if(r){const n=e?.optionId===r.id;s+='<label class="rad"><input type="radio" name="q_'+t.id+'" value="'+r.id+'" '+(n?"checked":"")+' onchange="'+i+".handleResponseChange('"+t.id+"','"+r.id+"','"+r.id+'\',false)"><span class="rad-text">'+r.text+"</span></label>"+(n?'<div class="oi"><input type="text" class="oif" placeholder="Please specify..." value="'+(this.ot[t.id]||"")+'" oninput="'+i+".handleOtherTextChangeImmediate('"+t.id+"',this.value)\"></div>":"")}return s}renderMultipleChoiceOptions(t,e,i="window.surveyWidget"){const s=e?.optionId?.split(",")||[];let r=t.options.filter(t=>!t.isOther).map((e,r)=>{const n=e.id||"option_"+r;return'<label class="chk"><input type="checkbox" value="'+n+'" '+(s.includes(n)?"checked":"")+' onchange="'+i+".handleMultipleChoiceChange('"+t.id+"','"+n+'\',this.checked)"><span class="chk-text">'+e.text+"</span></label>"}).join("");const n=t.options.find(t=>t.isOther);if(n){const e=n.id||"option_other",o=s.includes(e);r+='<label class="chk"><input type="checkbox" value="'+e+'" '+(o?"checked":"")+' onchange="'+i+".handleMultipleChoiceChange('"+t.id+"','"+e+'\',this.checked)"><span class="chk-text">'+n.text+"</span></label>",o&&(r+='<div class="oi"><input type="text" class="oif" placeholder="Please specify..." value="'+(this.ot[t.id]||"")+'" oninput="'+i+".handleOtherTextChangeImmediate('"+t.id+"',this.value)\"></div>")}return r}renderStarRatingOptions(t,e,i="window.surveyWidget"){const s=e?.numberValue||0;return'<div class="stars">'+[1,2,3,4,5].map(e=>'<button type="button" class="star-btn'+(e<=s?" star-sel":"")+'" onclick="'+i+".handleResponseChange('"+t.id+"',"+e+')"><svg class="star-svg" width="24" height="24" viewBox="0 0 24 24" fill="'+(e<=s?"#fbbf24":"none")+'" stroke="'+(e<=s?"#fbbf24":"currentColor")+'" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color:'+(e<=s?"#fbbf24":"#d1d5db")+';"><polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"/></svg></button>').join("")+"</div>"}renderLongTextOptions(t,e,i="window.surveyWidget"){return'<div class="ltxt"><textarea class="ltxt-ta" placeholder="" oninput="'+i+".handleResponseChange('"+t.id+"',this.value,undefined,false,true)\">"+(e?.textValue||"")+"</textarea></div>"}renderStatementOptions(t){return'<div class="stmt"><p class="stmt-text">'+t.description+"</p></div>"}handleResponseChange(t,e,i,s=!1,r=!1){const n=this.r.findIndex(e=>e.questionId===t),o=i||(n>=0?this.r[n].optionId:void 0),a={questionId:t,optionId:o,textValue:"string"==typeof e?e:void 0,numberValue:"number"==typeof e?e:void 0,booleanValue:"boolean"==typeof e?e:void 0,isOther:s};n>=0?this.r[n]=a:this.r.push(a),s||delete this.ot[t],this.e===t&&(this.e=null),r||this.render()}handleMultipleChoiceChange(t,e,i){const s=this.r.find(e=>e.questionId===t);if(s){const t=s.optionId?s.optionId.split(","):[];if(i)t.includes(e)||t.push(e),s.optionId=t.join(",");else{const i=t.filter(t=>t!==e);s.optionId=i.length>0?i.join(","):void 0}}else i&&this.r.push({questionId:t,optionId:e});const r=this.survey.questions[this.i],n=r?.options.find(t=>(t.id||"option_"+r.options.indexOf(t))===e)?.isOther;n&&!i&&delete this.ot[t],this.e===t&&(this.e=null),this.render()}handleOtherTextChange(t,e){this.ot[t]=e,this.handleResponseChange(t,e,void 0,!0)}handleOtherTextChangeImmediate(t,e){this.ot[t]=e,this.handleResponseChange(t,e,void 0,!0,!0)}handleClose(){this.onClose(),this.unmount()}handleNext(){if(!this.survey?.questions||0===this.survey.questions.length)return void this.onError("No questions available");const t=this.survey.questions[this.i];if(t?.required&&!this.r.some(e=>e.questionId===t.id))return this.e=t.id,void this.render();this.e=null,this.i===this.survey.questions.length-1?this.handleSubmit():this.transitionToNext()}handlePrevious(){this.i>0&&this.transitionToPrevious()}transitionToNext(){this.transitionToQuestion(this.i+1,"right")}transitionToPrevious(){this.transitionToQuestion(this.i-1,"left")}transitionToQuestion(t,e){if(!this.container)return;const i=this.container.querySelector(".qtc");if(!i)return this.i=t,void this.render();const s="right"===e?"q-exit-right":"q-exit-left";i.classList.add(s),setTimeout(()=>{this.i=t;const r=this.survey.questions[this.i];if(r){const t=this.survey.style||this.getDefaultStyle(),n=this.widgetId?"window."+this.widgetId:"window.surveyWidget";i.innerHTML=this.renderQuestion(r,t,n),i.classList.remove(s);const o="right"===e?"q-enter-right":"q-enter-left";i.classList.add(o),setTimeout(()=>i.classList.remove(o),300)}},200)}async handleSubmit(){if(this.testMode)this.onComplete(this.r);else{this.s=!0,this.render();try{await new Promise(t=>setTimeout(t,1e3)),this.onComplete(this.r),this.c=!0}catch(t){this.onError(t.message||"Failed to submit survey")}finally{this.s=!1,this.render()}}}getDefaultStyle(){return{backgroundColor:"transparent",textColor:"#222222",buttonBackgroundColor:"#222222",buttonTextColor:"#ffffff",margin:"16px 0px",padding:"16px",border:"1px solid #222222",borderRadius:"6px",titleFontSize:"18px",bodyFontSize:"16px",fontFamily:"Inter",accentColor:"#3b82f6",errorColor:"#ef4444",borderColor:"#d1d5db",outlineButtonBg:"rgba(255,255,255,.8)",outlineButtonText:"#374151",outlineButtonHoverBg:"#f9fafb",outlineButtonHoverBorder:"#9ca3af",inputBorder:"#d1d5db",inputRadius:".375rem",inputBg:"#ffffff"}}getNextArrowIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>'}getSendIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>'}getSpinnerIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="spinner"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>'}addStyles(){if(document.getElementById("sw-styles"))return;const t=document.createElement("style");t.id="sw-styles",t.textContent='@keyframes spin{to{transform:rotate(360deg)}}@keyframes slideOutRight{0%{transform:translateX(0);opacity:1}100%{transform:translateX(-50%);opacity:0}}@keyframes slideInRight{0%{transform:translateX(50%);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes slideOutLeft{0%{transform:translateX(0);opacity:1}100%{transform:translateX(50%);opacity:0}}@keyframes slideInLeft{0%{transform:translateX(-50%);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-2px)}75%{transform:translateX(2px)}}.sw *{box-sizing:border-box}.sw{min-width:300px;min-height:300px}.sc{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05);max-width:300px;min-height:300px;display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;position:relative}.x{position:absolute;top:.25rem;right:.25rem;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;z-index:10;opacity:.7}.x:hover{opacity:1}.x svg{color:var(--sw-text,#222222);transition:all .2s ease}.sc-content{padding:.5rem;margin-bottom:1rem;overflow:hidden;position:relative}.qtc{position:relative;overflow:hidden;min-height:200px;width:100%;height:auto}.qtc .qc{position:relative;width:100%;height:auto}.q-exit-right{animation:slideOutRight .2s ease-out forwards}.q-enter-right{animation:slideInRight .3s ease-out forwards}.q-exit-left{animation:slideOutLeft .2s ease-out forwards}.q-enter-left{animation:slideInLeft .3s ease-out forwards}.sf{padding:.5rem;display:flex;flex-direction:column;justify-content:space-between;padding-top:0}.sn{display:flex;width:100%;justify-content:flex-start}.btn{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.375rem;cursor:pointer;transition:opacity .2s}.btn svg{flex-shrink:0}.spinner{animation:spin 1s linear infinite}.btn-outline{margin-right:.5rem;border:1px solid var(--sw-btn-bg,#222222);background-color:var(--sw-btn-bg,#222222);color:var(--sw-btn-text,#ffffff);opacity:.7}.btn-outline:hover:not(:disabled){background-color:var(--sw-btn-bg,#222222);border-color:var(--sw-btn-bg,#222222);opacity:.5}.btn-outline svg{color:var(--sw-btn-text,#ffffff)}.btn-primary{border:none;background-color:var(--sw-btn-bg,#222222);color:var(--sw-btn-text,#ffffff)}.btn-primary:hover:not(:disabled){opacity:.9}.btn-primary svg{color:var(--sw-btn-text,#ffffff)}.btn:disabled{opacity:.5;cursor:not-allowed}.btn:not(:disabled):hover{opacity:.9}.sb{margin-top:1.5rem;width:100%;display:flex;justify-content:flex-start}.sb-text{display:flex;align-items:center;font-size:.75rem;color:#6b7280}.sw-loading{display:flex;align-items:center;justify-content:center;padding:2rem}.sw-spinner{width:2rem;height:2rem;border:2px solid #e5e7eb;border-top:2px solid #3b82f6;border-radius:50%;animation:spin 1s linear infinite}.sw-error{text-align:center;padding:2rem;color:#6b7280}.sw-error-msg{margin:0}.qc{width:100%;height:100%;padding:0 4px}.qt{font-weight:600;margin-bottom:.5rem;color:var(--sw-text,#222222);font-size:var(--sw-title,18px)}.qd{opacity:.8;margin-bottom:1rem;color:var(--sw-text,#222222);font-size:var(--sw-body,16px)}.opts{margin-top:1rem;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.qr{color:var(--sw-error,#ef4444);font-size:1.5rem}.qc-error{animation:shake .5s ease-in-out}.rad,.chk{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;cursor:pointer}.rad input[type="radio"],.chk input[type="checkbox"]{margin:0;accent-color:var(--sw-accent,#3b82f6)}.rad-text,.chk-text{font-size:var(--sw-body,1rem);color:var(--sw-text,#222222)}.oi{margin-top:.5rem}.oif{width:100%;padding:.5rem;border:1px solid var(--sw-input-border,#d1d5db);border-radius:var(--sw-input-radius,.375rem);font-size:var(--sw-body,1rem);color:var(--sw-text,#222222);background-color:var(--sw-input-bg,#ffffff)}.stars{display:flex;justify-content:center;gap:.5rem}.star-btn{padding:.25rem;background:none;border:none;cursor:pointer;border-radius:50%;transition:all .2s ease;display:flex;align-items:center;justify-content:center;outline:none}.star-btn:hover{transform:scale(1.1)}.star-btn:focus{outline:none}.star-btn.star-sel{background-color:transparent}.star-svg{width:30px;height:30px;transition:all .2s ease}.star-btn:hover .star-svg{transform:scale(1.1)}.ltxt{width:100%}.ltxt-ta{width:100%;padding:.5rem;border:1px solid var(--sw-input-border,#d1d5db);border-radius:var(--sw-input-radius,.375rem);font-size:var(--sw-body,.75rem);color:var(--sw-text,#222222);background-color:var(--sw-input-bg,transparent);resize:none;min-height:6rem}.stmt{text-align:left}.stmt-text{font-size:var(--sw-title,1.125rem);font-weight:500;margin-bottom:1rem;color:var(--sw-text,#222222)}.yno{width:100%}',document.head.appendChild(t)}mount(t){if(this.container=document.getElementById(t),!this.container)throw new Error('Container with id "'+t+'" not found');this.render()}unmount(){this.container&&(this.container.innerHTML=""),this.container=null}getResponses(){return this.r}setSurveyData(t){this.surveyData=t,this.survey=t,this.l=!1,this.i=0,this.r=[],this.ot={},this.c=!1,this.container&&this.render()}setContainer(t){this.container=t,this.container&&this.render()}goToQuestion(t){if(this.survey?.questions&&t>=0&&t<this.survey.questions.length){const e=t>this.i?"right":"left";this.transitionToQuestion(t,e)}else console.error("Invalid question index:",t)}getCurrentQuestionIndex(){return this.i}getTotalQuestions(){return this.survey?.questions?.length||0}}window.initSurveyWidget=function(t){const e=new o(t),i="surveyWidget_"+Date.now()+"_"+Math.random().toString(36).substr(2,9);return window[i]=e,e.widgetId=i,e},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-survey-widget]").forEach((t,e)=>{const i=t.getAttribute("data-survey-id"),s="true"===t.getAttribute("data-test-mode"),r=new o({surveyId:i,testMode:s,onComplete:t=>{},onError:t=>{console.error("Survey error:",t)},onClose:()=>{}}),n="surveyWidget_auto_"+e+"_"+Date.now();window[n]=r,r.widgetId=n,r.setContainer(t)})}),"undefined"!=typeof module&&module.exports&&(module.exports=o);