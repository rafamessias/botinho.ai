class o{constructor(t={}){this.surveyId=t.surveyId,this.surveyData=t.surveyData,this.testMode=t.testMode||!1,this.onComplete=t.onComplete||(()=>{}),this.onError=t.onError||(()=>{}),this.onClose=t.onClose||(()=>{}),this.autoClose=t.autoClose||!1,this.container=null,this.survey=null,this.i=0,this.r=[],this.ot={},this.l=!0,this.s=!1,this.c=!1,this.e=null,this.init()}async init(){try{this.surveyData?(this.survey=this.surveyData,this.l=!1,this.container&&this.render()):this.surveyId?await this.loadSurvey():this.onError("Either surveyId or surveyData must be provided")}catch(t){this.onError(t.message||"Failed to initialize survey")}}async loadSurvey(){try{if(!this.surveyData)throw new Error("Survey loading not implemented in vanilla version");this.survey=this.surveyData,this.l=!1,this.container&&this.render()}catch(t){this.onError(t.message||"Failed to load survey")}}render(){this.container&&(this.l?this.renderLoading():this.c?this.renderCompleted():this.survey?"published"===this.survey.status||this.testMode?this.renderSurvey():this.renderError("This survey is not available"):this.renderError("Survey not found"))}renderLoading(){this.container&&(this.container.innerHTML='<div class="sl"><div class="sp"></div></div>')}renderError(t){this.container&&(this.container.innerHTML='<div class="se"><p class="sem">'+t+"</p></div>")}renderCompleted(){if(!this.container)return;const t=this.survey?.style||this.getDefaultStyle(),e=this.widgetId?"window."+this.widgetId:"window.surveyWidget";this.container.innerHTML='<div class="sw" style="min-width:300px;min-height:300px;"><div class="sc" style="'+this.getStyleVariables(t)+'"><div class="x" onclick="'+e+'.handleClose()"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg></div><div class="cc"><div class="ca"><div class="sc-circle"><div class="sc-check"><div class="cs"></div><div class="ck"></div></div></div></div></div><div class="sf">'+this.renderBranding()+"</div></div></div>",this.addCompletionStyles(),this.autoClose&&setTimeout(()=>this.handleClose(),8e3)}renderSurvey(){if(!this.container)return;const t=this.survey;if(!t?.questions||0===t.questions.length)return void this.renderError("No questions available");const e=t.questions[this.i];if(!e)return void this.renderError("Question not found");const i=this.i===t.questions.length-1,n=0===this.i,r=t.style||this.getDefaultStyle(),s=this.widgetId?"window."+this.widgetId:"window.surveyWidget";this.container.innerHTML='<div class="sw" style="min-width:300px;min-height:300px;"><div class="sc" style="'+this.getStyleVariables(r)+'"><div class="x" onclick="'+s+'.handleClose()"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18"/><path d="M6 6l12 12"/></svg></div><div class="sc-content"><div class="qtc">'+this.renderQuestion(e,r,s)+'</div></div><div class="sf"><div class="sn"><button class="btn btn-outline btn-prev" onclick="'+s+'.handlePrevious()" '+(n?"disabled":"")+'><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m15 18-6-6 6-6"/></svg></button><button class="btn btn-primary btn-next" onclick="'+s+'.handleNext()" '+(this.s?"disabled":"")+">"+(this.s?this.getSpinnerIcon():i?this.getSendIcon():this.getNextArrowIcon())+"</button></div>"+this.renderBranding()+"</div></div></div>",this.addStyles()}renderBranding(){return'<div class="sb"><div class="sb-text"><p>Powered by <a href="https://opineeo.com" target="_blank"><strong>Opineeo</strong></a></p></div></div>'}renderQuestion(t,e,i="window.surveyWidget"){if(!t)return"";const n=this.r.find(e=>e.questionId===t.id),r=t.required;return'<div class="qc'+(this.e===t.id?" qc-error":"")+'"><h2 class="qt">'+t.title+(r?' <span class="qr">*</span>':"")+"</h2>"+(t.description&&"STATEMENT"!==t.format?'<p class="qd">'+t.description+"</p>":"")+'<div class="opts">'+this.renderQuestionOptions(t,n,e,i)+"</div></div>"}renderQuestionOptions(t,e,i,n="window.surveyWidget"){switch(t.format){case"YES_NO":return this.renderYesNoOptions(t,e,n);case"SINGLE_CHOICE":return this.renderSingleChoiceOptions(t,e,n);case"MULTIPLE_CHOICE":return this.renderMultipleChoiceOptions(t,e,n);case"STAR_RATING":return this.renderStarRatingOptions(t,e,n);case"LONG_TEXT":return this.renderLongTextOptions(t,e,n);case"STATEMENT":return this.renderStatementOptions(t);default:return"<p>Unsupported question format</p>"}}renderYesNoOptions(t,e,i="window.surveyWidget"){const n=!0===e?.booleanValue?"checked":"",r=!1===e?.booleanValue?"checked":"";return'<div class="yno"><label class="rad"><input type="radio" name="q_'+t.id+'" value="true" '+n+' onchange="'+i+".handleResponseChange('"+t.id+'\',true,undefined,false)"><span class="rad-text">'+(t.yesLabel||"Yes")+'</span></label><label class="rad"><input type="radio" name="q_'+t.id+'" value="false" '+r+' onchange="'+i+".handleResponseChange('"+t.id+'\',false,undefined,false)"><span class="rad-text">'+(t.noLabel||"No")+"</span></label></div>"}renderSingleChoiceOptions(t,e,i="window.surveyWidget"){const n=t.options.filter(t=>!t.isOther);let r=n.map(n=>{const r=e?.optionId===n.id?"checked":"";return'<label class="rad"><input type="radio" name="q_'+t.id+'" value="'+n.id+'" '+r+' onchange="'+i+".handleResponseChange('"+t.id+"','"+n.id+"','"+n.id+'\',false)"><span class="rad-text">'+n.text+"</span></label>"}).join("");const s=t.options.find(t=>t.isOther);if(s){const n=e?.optionId===s.id;r+='<label class="rad"><input type="radio" name="q_'+t.id+'" value="'+s.id+'" '+(n?"checked":"")+' onchange="'+i+".handleResponseChange('"+t.id+"','"+s.id+"','"+s.id+'\',true)"><span class="rad-text">'+s.text+"</span></label>"+(n?'<div class="oi"><input type="text" class="oif" placeholder="Specify..." value="'+(this.ot[t.id]||"")+'" oninput="'+i+".handleOtherTextChangeImmediate('"+t.id+"',this.value)\"></div>":"")}return r}renderMultipleChoiceOptions(t,e,i="window.surveyWidget"){const n=e?.optionId?.split(",")||[],r=t.options.filter(t=>!t.isOther);let s=r.map((e,r)=>{const s=e.id||"option_"+r;return'<label class="chk"><input type="checkbox" value="'+s+'" '+(n.includes(s)?"checked":"")+' onchange="'+i+".handleMultipleChoiceChange('"+t.id+"','"+s+'\',this.checked)"><span class="chk-text">'+e.text+"</span></label>"}).join("");const o=t.options.find(t=>t.isOther);if(o){const e=o.id||"option_other",r=n.includes(e);s+='<label class="chk"><input type="checkbox" value="'+e+'" '+(r?"checked":"")+' onchange="'+i+".handleMultipleChoiceChange('"+t.id+"','"+e+'\',this.checked)"><span class="chk-text">'+o.text+"</span></label>",r&&(s+='<div class="oi"><input type="text" class="oif" placeholder="Specify..." value="'+(this.ot[t.id]||"")+'" oninput="'+i+".handleOtherTextChangeImmediate('"+t.id+"',this.value)\"></div>")}return s}renderStarRatingOptions(t,e){const i=e?.numberValue||0;return'<div class="stars">'+[1,2,3,4,5].map(e=>'<button type="button" class="star-btn'+(e<=i?" star-sel":"")+'" onclick="'+(this.widgetId?"window."+this.widgetId:"window.surveyWidget")+".handleResponseChange('"+t.id+"',"+e+')"><svg class="star-svg" width="24" height="24" viewBox="0 0 24 24" fill="'+(e<=i?"#fbbf24":"none")+'" stroke="'+(e<=i?"#fbbf24":"currentColor")+'" stroke-width="2"><polygon points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26 12,2"/></svg></button>').join("")+"</div>"}renderLongTextOptions(t,e,i="window.surveyWidget"){return'<div class="ltxt"><textarea class="ltxt-ta" placeholder="" oninput="'+i+".handleResponseChange('"+t.id+"',this.value,undefined,false,true)\">"+(e?.textValue||"")+"</textarea></div>"}renderStatementOptions(t){return'<div class="stmt"><p class="stmt-text">'+t.description+"</p></div>"}handleResponseChange(t,e,i,n=!1,r=!1){const s=this.r.findIndex(e=>e.questionId===t),o=i||(s>=0?this.r[s].optionId:void 0),a={questionId:t,optionId:o,textValue:"string"==typeof e?e:void 0,numberValue:"number"==typeof e?e:void 0,booleanValue:"boolean"==typeof e?e:void 0,isOther:n};if(s>=0?this.r[s]=a:this.r.push(a),n||delete this.ot[t],this.e===t&&(this.e=null),r||this.render(),n&&i){const t=this.survey.questions[this.i];t?.options.find(t=>t.id===i)?.isOther&&this.f(".oif")}}handleMultipleChoiceChange(t,e,i){const n=this.r.find(e=>e.questionId===t);if(n){const t=n.optionId?n.optionId.split(","):[],r=t.indexOf(e);i?(r<0&&t.push(e),n.optionId=t.join(",")):(t.splice(r,1),n.optionId=t.length?t.join(","):void 0)}else i&&this.r.push({questionId:t,optionId:e});const r=this.survey.questions[this.i],s=r?.options.find(t=>(t.id||"option_"+r.options.indexOf(t))===e)?.isOther;s&&!i&&delete this.ot[t],this.e===t&&(this.e=null),this.render(),i&&s&&this.f(".oif")}f(t){setTimeout(()=>this.container?.querySelector(t)?.focus(),0)}handleOtherTextChange(t,e){this.ot[t]=e,this.handleResponseChange(t,e,void 0,!0)}handleOtherTextChangeImmediate(t,e){this.ot[t]=e,this.handleResponseChange(t,e,void 0,!0,!0)}handleClose(){this.onClose(),this.unmount()}handleNext(){const t=this.survey;if(!t?.questions||0===t.questions.length)return void this.onError("No questions available");const e=t.questions[this.i];if(e?.required&&!this.r.some(t=>t.questionId===e.id))return this.e=e.id,void this.render();this.e=null,this.i===t.questions.length-1?this.handleSubmit():this.transitionToNext()}handlePrevious(){this.i>0&&this.transitionToPrevious()}transitionToNext(){this.transitionToQuestion(this.i+1,"right")}transitionToPrevious(){this.transitionToQuestion(this.i-1,"left")}transitionToQuestion(t,e){if(!this.container)return;const i=this.container.querySelector(".qtc");if(!i)return this.i=t,void this.render();const n="right"===e?"q-exit-right":"q-exit-left";i.classList.add(n),setTimeout(()=>{this.i=t;const r=this.survey.questions[this.i];if(!r)return;const s=this.survey.style||this.getDefaultStyle(),o=this.widgetId?"window."+this.widgetId:"window.surveyWidget";i.innerHTML=this.renderQuestion(r,s,o),i.classList.remove(n);const a="right"===e?"q-enter-right":"q-enter-left";i.classList.add(a),setTimeout(()=>i.classList.remove(a),300),"LONG_TEXT"===r.format&&this.f(".ltxt-ta")},200)}async handleSubmit(){if(this.testMode)this.onComplete(this.r);else{this.s=!0,this.render();try{await new Promise(t=>setTimeout(t,1e3)),this.onComplete(this.r),this.c=!0}catch(t){this.onError(t.message||"Failed to submit survey")}finally{this.s=!1,this.render()}}}getDefaultStyle(){return{backgroundColor:"transparent",textColor:"inherit",buttonBackgroundColor:"currentColor",buttonTextColor:"inherit",margin:"16px 0px",padding:"16px",border:"none",borderRadius:"6px",titleFontSize:"inherit",bodyFontSize:"inherit",fontFamily:"inherit",accentColor:"currentColor",errorColor:"#ef4444",borderColor:"transparent",outlineButtonBg:"transparent",outlineButtonText:"inherit",outlineButtonHoverBg:"rgba(0,0,0,.05)",outlineButtonHoverBorder:"transparent",inputBorder:"rgba(0,0,0,.2)",inputRadius:".375rem",inputBg:"inherit",shadowColor:"rgba(0,0,0,.1)"}}getStyleVariables(t){const e=[];if(t.backgroundColor&&"transparent"!==t.backgroundColor&&e.push("--sw-bg:"+t.backgroundColor),t.textColor&&"inherit"!==t.textColor&&e.push("--sw-text:"+t.textColor),t.buttonBackgroundColor&&"currentColor"!==t.buttonBackgroundColor&&e.push("--sw-btn-bg:"+t.buttonBackgroundColor),t.buttonTextColor&&"inherit"!==t.buttonTextColor&&e.push("--sw-btn-text:"+t.buttonTextColor),t.fontFamily&&"inherit"!==t.fontFamily&&e.push("--sw-font:"+t.fontFamily),t.borderRadius&&"6px"!==t.borderRadius&&e.push("--sw-radius:"+t.borderRadius),t.margin&&"16px 0px"!==t.margin&&e.push("--sw-margin:"+t.margin),t.padding&&"16px"!==t.padding&&e.push("--sw-padding:"+t.padding),t.titleFontSize&&"inherit"!==t.titleFontSize&&e.push("--sw-title:"+t.titleFontSize),t.bodyFontSize&&"inherit"!==t.bodyFontSize&&e.push("--sw-body:"+t.bodyFontSize),t.accentColor&&"currentColor"!==t.accentColor&&e.push("--sw-accent:"+t.accentColor),t.errorColor&&"#ef4444"!==t.errorColor&&e.push("--sw-error:"+t.errorColor),t.inputBorder&&"rgba(0,0,0,.2)"!==t.inputBorder&&e.push("--sw-input-border:"+t.inputBorder),t.shadowColor&&e.push("--sw-shadow:"+t.shadowColor),e.length){let i="font-family:var(--sw-font,inherit);color:var(--sw-text,inherit);background-color:var(--sw-bg,inherit);border-radius:var(--sw-radius,6px);margin:var(--sw-margin,16px 0px);padding:var(--sw-padding,16px)";return t.accentColor&&"currentColor"!==t.accentColor&&(i+=";accent-color:var(--sw-accent,"+t.accentColor+")"),e.join(";")+";"+i}return"font-family:inherit;color:inherit;background-color:inherit;border-radius:6px;margin:16px 0px;padding:16px"}getNextArrowIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m9 18 6-6-6-6"/></svg>'}getSendIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>'}getSpinnerIcon(){return'<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="spinner"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>'}addCompletionStyles(){if(document.getElementById("sw-completion-styles"))return;const t=document.createElement("style");t.id="sw-completion-styles",t.textContent='.cc{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:2rem;min-height:250px;position:relative}.ca{margin-bottom:2rem;position:relative}.sc-circle{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#10b981,#059669);display:flex;align-items:center;justify-content:center;position:relative;animation:scaleIn .6s cubic-bezier(.68,-.55,.265,1.55);box-shadow:0 8px 25px rgba(16,185,129,.3)}.sc-circle::before{content:"";position:absolute;width:100px;height:100px;border-radius:50%;background:linear-gradient(135deg,#10b981,#059669);opacity:.3;animation:pulse 2s infinite}.sc-check{position:relative;width:24px;height:24px;transform:rotate(45deg);z-index:2}.cs{position:absolute;width:5px;height:25px;background-color:#fff;left:15px;top:-3px;border-radius:2px;animation:checkmarkStem .4s ease-in-out .3s both}.ck{position:absolute;width:15px;height:5px;background-color:#fff;left:4px;top:17px;border-radius:2px;animation:checkmarkKick .4s ease-in-out .5s both}@keyframes scaleIn{0%{transform:scale(0);opacity:0}100%{transform:scale(1);opacity:1}}@keyframes pulse{0%,100%{transform:scale(1);opacity:.3}50%{transform:scale(1.1);opacity:.1}}@keyframes checkmarkStem{0%{height:0}100%{height:25px}}@keyframes checkmarkKick{0%{width:0}100%{width:15px}}@media(max-width:400px){.sc-circle{width:60px;height:60px}.sc-circle::before{width:80px;height:80px}.cs{width:2px;height:10px;left:7px;top:3px}.ck{width:6px;height:2px;left:4px;top:9px}}',document.head.appendChild(t)}addStyles(){if(document.getElementById("sw-styles"))return;const t=document.createElement("style");t.id="sw-styles",t.textContent="@keyframes spin{to{transform:rotate(360deg)}}@keyframes oR{0%{transform:translateX(0);opacity:1}100%{transform:translateX(-50%);opacity:0}}@keyframes iR{0%{transform:translateX(50%);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes oL{0%{transform:translateX(0);opacity:1}100%{transform:translateX(50%);opacity:0}}@keyframes iL{0%{transform:translateX(-50%);opacity:0}100%{transform:translateX(0);opacity:1}}@keyframes shake{0%,100%{transform:translateX(0)}25%{transform:translateX(-2px)}75%{transform:translateX(2px)}}.sw{min-width:300px;min-height:300px;font-family:inherit;color:inherit}.sw *{box-sizing:border-box;color:inherit;font-family:inherit}.sc{box-shadow:0 10px 25px -5px var(--sw-shadow,rgba(0,0,0,.1)),0 10px 10px -5px var(--sw-shadow,rgba(0,0,0,.04));max-width:300px;min-height:300px;display:flex;flex-direction:column;justify-content:space-between;overflow:hidden;position:relative;border:none}.x{position:absolute;top:.25rem;right:.25rem;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;z-index:10;opacity:.7;background:transparent;border:0}.x:hover{opacity:1}.x svg{color:currentColor;transition:all .2s ease}.sc-content{padding:.5rem;margin-bottom:1rem;overflow:hidden;position:relative}.qtc{position:relative;overflow:hidden;min-height:200px;width:100%;height:auto}.qtc .qc{position:relative;width:100%;height:auto}.q-exit-right{animation:oR .2s ease-out forwards}.q-enter-right{animation:iR .3s ease-out forwards}.q-exit-left{animation:oL .2s ease-out forwards}.q-enter-left{animation:iL .3s ease-out forwards}.sf{padding:.5rem;display:flex;flex-direction:column;justify-content:space-between;padding-top:0}.sn{display:flex;width:100%;justify-content:flex-start}.btn{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:.375rem;cursor:pointer;transition:all .2s ease;font:inherit;color:inherit}.btn svg{flex-shrink:0}.spinner{animation:spin 1s linear infinite}.btn-outline{margin-right:.5rem;border:none;background-color:transparent;opacity:.7;box-shadow:0 2px 4px -1px var(--sw-shadow,rgba(0,0,0,.1)),0 1px 2px -1px var(--sw-shadow,rgba(0,0,0,.06))}.btn-outline:hover:not(:disabled){opacity:.9;box-shadow:0 4px 6px -1px var(--sw-shadow,rgba(0,0,0,.1)),0 2px 4px -1px var(--sw-shadow,rgba(0,0,0,.06))}.btn-primary{border:none;background-color:currentColor;color:#fff;box-shadow:0 4px 6px -1px var(--sw-shadow,rgba(0,0,0,.1)),0 2px 4px -1px var(--sw-shadow,rgba(0,0,0,.06))}.btn-primary:hover:not(:disabled){opacity:.9;box-shadow:0 6px 8px -1px var(--sw-shadow,rgba(0,0,0,.15)),0 4px 6px -1px var(--sw-shadow,rgba(0,0,0,.1))}.btn:disabled{opacity:.5;cursor:not-allowed}.btn:not(:disabled):hover{opacity:.9}.sb{margin-top:1.5rem;width:100%;display:flex;justify-content:flex-start}.sb-text{display:flex;align-items:center;font-size:.75rem;opacity:.7}.sl{display:flex;align-items:center;justify-content:center;padding:2rem}.sp{width:2rem;height:2rem;border:2px solid currentColor;border-top:2px solid transparent;border-radius:50%;opacity:.3;animation:spin 1s linear infinite}.se{text-align:center;padding:2rem;opacity:.7}.sem{margin:0}.qc{width:100%;height:100%;padding:0 4px}.qt{font-weight:600;margin-bottom:.5rem;font-size:inherit}.qd{opacity:.8;margin-bottom:1rem;font-size:inherit}.opts{margin-top:1rem;padding-bottom:4px;display:flex;flex-direction:column;justify-content:center;align-items:flex-start}.qr{color:var(--sw-error,#ef4444);font-size:1.2rem}.qc-error{animation:shake .5s ease-in-out}.rad,.chk{display:flex;align-items:center;gap:.5rem;margin-bottom:.5rem;cursor:pointer}.rad input[type=radio],.chk input[type=checkbox]{margin:0;accent-color:var(--sw-accent,currentColor)}.rad-text,.chk-text{font-size:inherit;font-family:inherit}.oi{margin-top:.5rem}.oif{width:100%;padding:.5rem;border:1px solid var(--sw-input-border,rgba(0,0,0,.2));border-radius:.375rem;font-size:inherit;background-color:inherit;font-family:inherit}.stars{display:flex;justify-content:center;gap:.5rem}.star-btn{padding:.25rem;background:none;border:none;cursor:pointer;border-radius:50%;transition:all .2s ease;display:flex;align-items:center;justify-content:center;outline:0}.star-btn:hover{transform:scale(1.1)}.star-btn.star-sel{background-color:transparent}.star-svg{width:30px;height:30px;transition:all .2s ease}.star-btn:hover .star-svg{transform:scale(1.1)}.star-btn:not(.star-sel) .star-svg{opacity:.3}.ltxt{width:100%}.ltxt-ta{width:100%;padding:.5rem;border:1px solid var(--sw-input-border,rgba(0,0,0,.2));border-radius:.375rem;font-size:inherit;background-color:inherit;resize:none;min-height:6rem;font-family:inherit}.stmt{text-align:left}.stmt-text{font-size:inherit;font-weight:500;margin-bottom:1rem}.yno{width:100%}",document.head.appendChild(t)}mount(t){if(this.container=document.getElementById(t),!this.container)throw new Error('Container with id "'+t+'" not found');this.render()}unmount(){this.container&&(this.container.innerHTML=""),this.container=null}getResponses(){return this.r}setSurveyData(t){this.surveyData=t,this.survey=t,this.l=!1,this.i=0,this.r=[],this.ot={},this.c=!1,this.container&&this.render()}setContainer(t){this.container=t,this.container&&this.render()}goToQuestion(t){const e=this.survey;if(e?.questions&&t>=0&&t<e.questions.length){const e=t>this.i?"right":"left";this.transitionToQuestion(t,e)}else console.error("Invalid question index:",t)}getCurrentQuestionIndex(){return this.i}getTotalQuestions(){return this.survey?.questions?.length||0}}window.initSurveyWidget=function(t){const e=new o(t),i="surveyWidget_"+Date.now()+"_"+Math.random().toString(36).substr(2,9);return window[i]=e,e.widgetId=i,e},document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-survey-widget]").forEach((t,e)=>{const i=t.getAttribute("data-survey-id"),n="true"===t.getAttribute("data-test-mode"),r=new o({surveyId:i,testMode:n,onComplete:t=>{},onError:t=>{console.error("Survey error:",t)},onClose:()=>{}}),s="surveyWidget_auto_"+e+"_"+Date.now();window[s]=r,r.widgetId=s,r.setContainer(t)})}),"undefined"!=typeof module&&module.exports&&(module.exports=o);